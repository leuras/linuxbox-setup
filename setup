#!/bin/bash

__BASE_DIR=$(dirname "$0")

# import functions definition and variables
. $__BASE_DIR/lib/installer.sh
. $__BASE_DIR/setup-profile

# debian packages
apt update && apt install \
    wget \
    curl \
    jq \
    gdebi \
    zsh \
    tilix \
    vim \
    uniq \
    openjdk-11-jdk \
    python3 \
    python3-pip \
    python3-venv \
    apt-transport-https \
    ca-certificates \
    software-properties-common \
    lsb-release \
    fzf \
    flameshot

# snap packages
snap install \
    ngrok

# zsh as default shell
chsh -s $(which zsh)

# .deb installer packages
deb "sublime-text" "${SUBLIME_URL}" "true"
deb "mockoon" "${MOCKOON_URL}" "true"
deb "code" "${VSCODE_URL}" "false"
deb "insomnia" "${INSOMNIA_URL}" "false"
deb "dbeaver-ce" "${DBEAVER_URL}" "false"

# executables
binary "docker-compose" "${DOCKER_COMPOSE_URL}" "${DOCKER_COMPOSE_RELEASE}" "true"

# ppa sources
custom_ppa "docker-ce" "${DOCKER_GPG_URL}" "${DOCKER_PPA_URL}"

# clean up
cleanup_installation
